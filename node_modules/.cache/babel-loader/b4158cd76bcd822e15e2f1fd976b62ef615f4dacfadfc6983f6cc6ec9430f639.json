{"ast":null,"code":"var _jsxFileName = \"/Users/mtrindade/Documents/Dev_Docs/Projetos/LetMeAsk_Project/src/App.tsx\",\n  _s = $RefreshSig$();\n//Autoimort: Identifica a importação do componente Home e faz de forma automática\n//contexto permite features como autenticação funcionarem em todas as páginas sem precisar repetir o código\n//useEffect e um hook para disparo de efeitos colaterais, quando quero disparar uma funcao sempre que algo acontecer, ex: uma informacao mudou.\nimport { createContext, useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { Home } from \"./pages/Home\";\nimport { NewRoom } from \"./pages/NewRoom\";\n//Importo firebase para implementar autenticação com google.\nimport { auth, firebase } from './services/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n//Implementando contexto -> string valor inicial\nexport const AuthContext = /*#__PURE__*/createContext({});\nfunction App() {\n  _s();\n  const [user, setUser] = useState();\n\n  //Caso onAuthStateChanged detectar que usuario havia logado anteriormente, vai retornar usuario\n\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        //Se foi resultado um usuario dessa autenticacao, then..\n        const {\n          displayName,\n          photoURL,\n          uid\n        } = user;\n\n        //Se o user nao tenha nome ou foto, a aplicacao nao vai funcionar\n        if (!displayName || !photoURL) {\n          throw new Error('Missing information from Google Account.');\n        }\n        setUser({\n          id: uid,\n          name: displayName,\n          avatar: photoURL\n        });\n      }\n    });\n  }, []); //Primerio qual funcao eu quero executar, segundo quando <Array> que eu quero executar essa funcao, qual parametro que vai mudar e ser trigger para disparar a funcao, se eu deixar o array vazio, ela dispara uma unica vez\n\n  async function signInWithGoogle() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    const result = await auth.signInWithPopup(provider);\n    //signInwithPopup: Fazer autenticação direto com Poupup na tela, ao inves de redirecionar o cliente.\n\n    if (result.user) {\n      //Se foi resultado um usuario dessa autenticacao, then..\n      const {\n        displayName,\n        photoURL,\n        uid\n      } = result.user;\n\n      //Se o user nao tenha nome ou foto, a aplicacao nao vai funcionar\n      if (!displayName || !photoURL) {\n        throw new Error('Missing information from Google Account.');\n      }\n      setUser({\n        id: uid,\n        name: displayName,\n        avatar: photoURL\n      });\n    }\n  }\n\n  //Jogando signInWithGoogle a AuthContext, leva a autenticacao a todas as paginas --gracas a API de contexto!!!\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        user,\n        signInWithGoogle\n      },\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/rooms/new\",\n          element: /*#__PURE__*/_jsxDEV(NewRoom, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 7\n  }, this);\n}\n//Desta forma tudo que estiver dentro do provider vai conseguir enxergar o valor do contexto\n//Obs: Exact (valor true) diz que o endereço precisa ser exatamente \"/\", para que nao haja ruidos com outros enderecos comecando por \"/\", ou serao mostradas todas a paginas com / de uma so vez\n_s(App, \"hT6C72rcbfRUedrDq+TPaFfRI/M=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["createContext","useState","useEffect","BrowserRouter","Route","Routes","Home","NewRoom","auth","firebase","AuthContext","App","user","setUser","onAuthStateChanged","displayName","photoURL","uid","Error","id","name","avatar","signInWithGoogle","provider","GoogleAuthProvider","result","signInWithPopup"],"sources":["/Users/mtrindade/Documents/Dev_Docs/Projetos/LetMeAsk_Project/src/App.tsx"],"sourcesContent":["//Autoimort: Identifica a importação do componente Home e faz de forma automática\n//contexto permite features como autenticação funcionarem em todas as páginas sem precisar repetir o código\n//useEffect e um hook para disparo de efeitos colaterais, quando quero disparar uma funcao sempre que algo acontecer, ex: uma informacao mudou.\nimport {createContext, useState, useEffect} from 'react'\nimport { BrowserRouter, Route, Routes, RouteProps } from 'react-router-dom';\nimport { Home } from \"./pages/Home\";\nimport { NewRoom } from \"./pages/NewRoom\";\n//Importo firebase para implementar autenticação com google.\nimport { auth, firebase } from './services/firebase'\n\ntype User = {\n  id: string;\n  name: string;\n  avatar: string;\n}\n\ntype AuthContextType = {\n  user: User | undefined; //No primeiro momento nao existe usuario logado, logo ele e undefined!\n  signInWithGoogle: () => Promise <void>; //Toda funcao assincrona retorna uma promessa e void - Funcao que nao tem parametros no () e tambem nao tem return dentro dela \n}\n\n//Implementando contexto -> string valor inicial\nexport const AuthContext = createContext({} as AuthContextType);\n\nfunction App() {\n\n  const [user, setUser] =  useState<User>();\n\n  //Caso onAuthStateChanged detectar que usuario havia logado anteriormente, vai retornar usuario\n\n  useEffect(() => {auth.onAuthStateChanged(user => {\n    \n    if (user) { //Se foi resultado um usuario dessa autenticacao, then..\n      const {displayName, photoURL, uid} = user\n\n      //Se o user nao tenha nome ou foto, a aplicacao nao vai funcionar\n      if (!displayName || !photoURL) {\n        throw new Error('Missing information from Google Account.');\n        }\n\n        setUser({\n          id: uid,\n          name: displayName,\n          avatar:photoURL\n        })\n    }\n    \n  })}, []) //Primerio qual funcao eu quero executar, segundo quando <Array> que eu quero executar essa funcao, qual parametro que vai mudar e ser trigger para disparar a funcao, se eu deixar o array vazio, ela dispara uma unica vez\n\n  async function signInWithGoogle() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    \n    const result = await auth.signInWithPopup(provider);\n    //signInwithPopup: Fazer autenticação direto com Poupup na tela, ao inves de redirecionar o cliente.\n    \n    if (result.user) { //Se foi resultado um usuario dessa autenticacao, then..\n      const {displayName, photoURL, uid} = result.user\n\n      //Se o user nao tenha nome ou foto, a aplicacao nao vai funcionar\n      if (!displayName || !photoURL) {\n        throw new Error('Missing information from Google Account.');\n        }\n\n        setUser({\n          id: uid,\n          name: displayName,\n          avatar:photoURL\n        })\n      }\n          \n  }\n\n  //Jogando signInWithGoogle a AuthContext, leva a autenticacao a todas as paginas --gracas a API de contexto!!!\n\n    return (\n      <BrowserRouter> \n        <AuthContext.Provider value={{ user, signInWithGoogle}}> \n          <Routes>\n            <Route path=\"/\" element={<Home/>} /> \n            <Route path=\"/rooms/new\" element={<NewRoom/>} />\n          </Routes>\n        </AuthContext.Provider>\n      </BrowserRouter>\n    );\n}\n  //Desta forma tudo que estiver dentro do provider vai conseguir enxergar o valor do contexto\n  //Obs: Exact (valor true) diz que o endereço precisa ser exatamente \"/\", para que nao haja ruidos com outros enderecos comecando por \"/\", ou serao mostradas todas a paginas com / de uma so vez\n\nexport default App;\n"],"mappings":";;AAAA;AACA;AACA;AACA,SAAQA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACxD,SAASC,aAAa,EAAEC,KAAK,EAAEC,MAAM,QAAoB,kBAAkB;AAC3E,SAASC,IAAI,QAAQ,cAAc;AACnC,SAASC,OAAO,QAAQ,iBAAiB;AACzC;AACA,SAASC,IAAI,EAAEC,QAAQ,QAAQ,qBAAqB;AAAA;AAapD;AACA,OAAO,MAAMC,WAAW,gBAAGV,aAAa,CAAC,CAAC,CAAC,CAAoB;AAE/D,SAASW,GAAG,GAAG;EAAA;EAEb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAIZ,QAAQ,EAAQ;;EAEzC;;EAEAC,SAAS,CAAC,MAAM;IAACM,IAAI,CAACM,kBAAkB,CAACF,IAAI,IAAI;MAE/C,IAAIA,IAAI,EAAE;QAAE;QACV,MAAM;UAACG,WAAW;UAAEC,QAAQ;UAAEC;QAAG,CAAC,GAAGL,IAAI;;QAEzC;QACA,IAAI,CAACG,WAAW,IAAI,CAACC,QAAQ,EAAE;UAC7B,MAAM,IAAIE,KAAK,CAAC,0CAA0C,CAAC;QAC3D;QAEAL,OAAO,CAAC;UACNM,EAAE,EAAEF,GAAG;UACPG,IAAI,EAAEL,WAAW;UACjBM,MAAM,EAACL;QACT,CAAC,CAAC;MACN;IAEF,CAAC,CAAC;EAAA,CAAC,EAAE,EAAE,CAAC,EAAC;;EAET,eAAeM,gBAAgB,GAAG;IAChC,MAAMC,QAAQ,GAAG,IAAId,QAAQ,CAACD,IAAI,CAACgB,kBAAkB,EAAE;IAEvD,MAAMC,MAAM,GAAG,MAAMjB,IAAI,CAACkB,eAAe,CAACH,QAAQ,CAAC;IACnD;;IAEA,IAAIE,MAAM,CAACb,IAAI,EAAE;MAAE;MACjB,MAAM;QAACG,WAAW;QAAEC,QAAQ;QAAEC;MAAG,CAAC,GAAGQ,MAAM,CAACb,IAAI;;MAEhD;MACA,IAAI,CAACG,WAAW,IAAI,CAACC,QAAQ,EAAE;QAC7B,MAAM,IAAIE,KAAK,CAAC,0CAA0C,CAAC;MAC3D;MAEAL,OAAO,CAAC;QACNM,EAAE,EAAEF,GAAG;QACPG,IAAI,EAAEL,WAAW;QACjBM,MAAM,EAACL;MACT,CAAC,CAAC;IACJ;EAEJ;;EAEA;;EAEE,oBACE,QAAC,aAAa;IAAA,uBACZ,QAAC,WAAW,CAAC,QAAQ;MAAC,KAAK,EAAE;QAAEJ,IAAI;QAAEU;MAAgB,CAAE;MAAA,uBACrD,QAAC,MAAM;QAAA,wBACL,QAAC,KAAK;UAAC,IAAI,EAAC,GAAG;UAAC,OAAO,eAAE,QAAC,IAAI;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAAG,eACpC,QAAC,KAAK;UAAC,IAAI,EAAC,YAAY;UAAC,OAAO,eAAE,QAAC,OAAO;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA;IACzC;MAAA;MAAA;MAAA;IAAA;EACY;IAAA;IAAA;IAAA;EAAA,QACT;AAEtB;AACE;AACA;AAAA,GA9DOX,GAAG;AAAA,KAAHA,GAAG;AAgEZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}